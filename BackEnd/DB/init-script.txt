#Script para la base de datos POSTGRESQL



CREATE TABLE user_type (
    usertype_id serial PRIMARY KEY,
    name VARCHAR (50) UNIQUE NOT NULL,
)

CREATE TABLE users (
    user_id serial PRIMARY KEY,
    name VARCHAR (50) NOT NULL,
    lastname VARCHAR (50) NOT NULL,
    email VARCHAR (255) UNIQUE NOT NULL,
    password VARCHAR (50) NOT NULL,
    birthday TIMEMSTAMP NOT NULL,
    vaccines INT,
    created_on TIMESTAMP NOT NULL
    CONSTRAINT fk_usertype
        FOREIGN KEY(usertype_id)
        REFERENCES user_type(usertype_id)
        ON DELETE SET NULL
)

CREATE TABLE reservations (
    reservation_id serial PRIMARY KEY,
    active BOOLEAN NOT NULL,
    created_on TIMESTAMP NOT NULL
    CONSTRAINT fk_user
        FOREIGN KEY(user_id)
        REFERENCES users(user_id)
        ON DELETE SET NULL
)

CREATE TABLE payments (
    payment_id serial PRIMARY KEY,
    amount NUMERIC(8,2) NOT NULL
    merchant VARCHAR (50),
    status VARCHAR (50) NOT NULL,
    transaction_number INT,
    created_on TIMESTAMP NOT NULL
    CONSTRAINT fk_reservation
        FOREIGN KEY(reservation_id)
        REFERENCES reservations(reservation_id)
        ON DELETE SET NULL
)

